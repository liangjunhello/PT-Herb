# 对比实验模型调整请求

## 背景

我正在进行一个对比实验，目的是基于原论文中的模型与我当前的模型进行对比。我的项目基于别人的模型，并且我需要根据论文中的设置来调整模型参数和训练流程。

当前我使用的模型训练脚本是 `ChapterTwo/train_conv.py`，该脚本是我原有模型的训练流程。我下载了 GitHub 上的另一个模型代码，并希望将其与原模型的训练流程进行对接，除模型结构和损失函数外，其他的要求与原模型保持一致。

## 调整要求

### 1. **数据加载与处理**
   - **数据集路径**：原模型的数据集路径为 `./data_from_web/Herb-LT_split42`。请确保新模型代码中使用相同的数据集路径。
   - **数据增强与预处理**：原模型使用了特定的 `train_transform` 和 `test_transform`。请确保新模型中相应的变换与原模型一致。

### 2. **优化器设置**
   - **优化器**：原模型使用的是 `SGD` 优化器，学习率（lr）为 0.0017。请确保新模型也使用 `SGD` 优化器，并设置为相同的学习率。
   - **学习率调度**：原模型使用了 `CosineAnnealingLR` 学习率调度器。请确保新模型代码中包含相同的学习率调度器，并配置为原模型的设置。
   - **动量与权重衰减**：原模型的动量设置为 0.9，权重衰减设置为 5e-4。请确保新模型中也使用相同的动量和权重衰减。

### 3. **训练与评估流程**
   - **训练轮数**：原模型训练了 128 个 epoch。请确保新模型也进行相同数量的训练轮数。
   - **训练过程输出**：原模型的日志输出包括 `train_loss`, `train_acc`, `test_acc` 等信息。请确保新模型也输出相同的训练日志。

### 4. **其他设置**
   - **批大小（Batch Size）**：原模型使用的批大小为 8。请确保新模型中也使用相同的批大小。
   - **随机种子**：原模型使用随机种子 42。请确保新模型中使用相同的随机种子来保证可复现性。

## 任务目标

- **调整 GitHub 下载的模型**：使其在训练过程、数据加载、优化器等方面与原模型保持一致，除了模型架构和损失函数外的其他部分。
- **对比实验**：保证新模型能够与原模型在相同的设置下进行对比，测试其在精度和训练过程中的表现。

请根据上述要求帮助我调整 GitHub 上的模型代码，使其与原有的训练脚本保持一致。

感谢您的帮助！

---